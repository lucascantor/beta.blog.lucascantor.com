<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2018-06-02T10:27:08-07:00</updated><id>http://localhost:4000/</id><title type="html">Lucas Cantor - Blog</title><subtitle>IT Lead @Intercom / Dog-Dad to @LizzyThePooch. Technical Debtor, Learning to Work Smart, not Hard. Into Apple Sysadmin / Automation.</subtitle><entry><title type="html">Enable Ownership on External Disks</title><link href="http://localhost:4000/2018/06/02/enable-ownership-on-external-disks.html" rel="alternate" type="text/html" title="Enable Ownership on External Disks" /><published>2018-06-02T10:22:00-07:00</published><updated>2018-06-02T10:22:00-07:00</updated><id>http://localhost:4000/2018/06/02/enable-ownership-on-external-disks</id><content type="html" xml:base="http://localhost:4000/2018/06/02/enable-ownership-on-external-disks.html">&lt;p&gt;By default, macOS doesn’t enable ownership, and thus access permissions, on external disks. If you have access to Mac with an external disk mounted, you have access to the full contents of that external disk as well.&lt;/p&gt;

&lt;p&gt;If you do want to enable ownership on an external disk, it’s easy to do using the &lt;code class=&quot;highlighter-rouge&quot;&gt;vsdbutil&lt;/code&gt; tool:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;vsdbutil -a /Volumes/ExternalDiskNameHere
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/lucascantor/6d95be0a27307d7730b2b361653b7fa7&quot;&gt;Gist on GitHub&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">By default, macOS doesn’t enable ownership, and thus access permissions, on external disks. If you have access to Mac with an external disk mounted, you have access to the full contents of that external disk as well.</summary></entry><entry><title type="html">Disable Printer Sharing</title><link href="http://localhost:4000/2018/05/11/disable-printer-sharing.html" rel="alternate" type="text/html" title="Disable Printer Sharing" /><published>2018-05-11T08:44:00-07:00</published><updated>2018-05-11T08:44:00-07:00</updated><id>http://localhost:4000/2018/05/11/disable-printer-sharing</id><content type="html" xml:base="http://localhost:4000/2018/05/11/disable-printer-sharing.html">&lt;p&gt;You can disable macOS printer sharing for all printers using the &lt;code class=&quot;highlighter-rouge&quot;&gt;lpstat&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;lpadmin&lt;/code&gt; tools:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;lpstat -p | grep printer | awk '{print $2}'| xargs -I{} lpadmin -p {} -o printer-is-shared=false
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/lucascantor/6ac2dba3e5535ffb69cbda357ab6d85e&quot;&gt;Gist on GitHub&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">You can disable macOS printer sharing for all printers using the lpstat and lpadmin tools:</summary></entry><entry><title type="html">View Available Software Updates in the Mac App Store</title><link href="http://localhost:4000/2018/05/05/view-available-software-updates.html" rel="alternate" type="text/html" title="View Available Software Updates in the Mac App Store" /><published>2018-05-05T10:29:00-07:00</published><updated>2018-05-05T10:29:00-07:00</updated><id>http://localhost:4000/2018/05/05/view-available-software-updates</id><content type="html" xml:base="http://localhost:4000/2018/05/05/view-available-software-updates.html">&lt;p&gt;You can use the &lt;code class=&quot;highlighter-rouge&quot;&gt;macappstore://&lt;/code&gt; scheme to open the Mac App Store to view the currently available software updates:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/usr/bin/open macappstore://showUpdatesPage
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To do this on behalf of the currently logged in user account:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;su - `stat -f '%Su' /dev/console` -c &quot;/usr/bin/open macappstore://showUpdatesPage&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/lucascantor/0e3bc44a0ec64b6edc96440fecf644c6&quot;&gt;Gist on GitHub&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">You can use the macappstore:// scheme to open the Mac App Store to view the currently available software updates:</summary></entry><entry><title type="html">Extract Saved WiFi Passwords from the macOS Keychain</title><link href="http://localhost:4000/2018/04/28/extract-saved-wifi-passwords.html" rel="alternate" type="text/html" title="Extract Saved WiFi Passwords from the macOS Keychain" /><published>2018-04-28T08:55:00-07:00</published><updated>2018-04-28T08:55:00-07:00</updated><id>http://localhost:4000/2018/04/28/extract-saved-wifi-passwords</id><content type="html" xml:base="http://localhost:4000/2018/04/28/extract-saved-wifi-passwords.html">&lt;p&gt;You can extract saved wifi passwords from the macOS Keychain using the &lt;code class=&quot;highlighter-rouge&quot;&gt;security&lt;/code&gt; command:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;security find-generic-password -ga &quot;&amp;lt;SSID HERE&amp;gt;&quot; | grep password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Simply replace &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;SSID HERE&amp;gt;&lt;/code&gt; with the name of the WiFi network in question:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;security find-generic-password -ga &quot;Smith Home WiFi&quot; | grep password:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You’ll be prompted for an administrator’s username and password, and then the WiFi network password will be revealed:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;password: &quot;ForgetM3N0t&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/lucascantor/fa0ab626d8bacba2556c1b77ba10b0bd&quot;&gt;Gist on GitHub&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">You can extract saved wifi passwords from the macOS Keychain using the security command:</summary></entry><entry><title type="html">Install Backblaze Silently from the Command Line</title><link href="http://localhost:4000/2018/04/21/install-backblaze-silently.html" rel="alternate" type="text/html" title="Install Backblaze Silently from the Command Line" /><published>2018-04-21T08:57:00-07:00</published><updated>2018-04-21T08:57:00-07:00</updated><id>http://localhost:4000/2018/04/21/install-backblaze-silently</id><content type="html" xml:base="http://localhost:4000/2018/04/21/install-backblaze-silently.html">&lt;p&gt;You can install Backblaze silently from the command line by running the &lt;code class=&quot;highlighter-rouge&quot;&gt;bzinstall_mate&lt;/code&gt; utility within the &lt;code class=&quot;highlighter-rouge&quot;&gt;Backblaze Installer.app&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;prerequisite-steps&quot;&gt;Prerequisite Steps:&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Sign in to your group admin’s Backblaze account.&lt;/li&gt;
  &lt;li&gt;Create a Backblaze group (or find an existing group).&lt;/li&gt;
  &lt;li&gt;From the Invite &amp;amp; Approve page for that group, click on the “Advanced Deployment Instructions” button
    &lt;ul&gt;
      &lt;li&gt;Locate the &lt;code class=&quot;highlighter-rouge&quot;&gt;groupID&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;groupToken&lt;/code&gt; for that group.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;command-to-execute-on-each-mac&quot;&gt;Command to Execute on Each Mac:&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/Volumes/Backblaze\ Installer/Backblaze\ Installer.app/Contents/MacOS/bzinstall_mate -nogui -createaccount &amp;lt;user@corp.com&amp;gt; &amp;lt;password&amp;gt; &amp;lt;groupID&amp;gt; &amp;lt;groupToken&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;none&lt;/code&gt; value can be passed in for the password parameter, so an automatically generated password will be used and the user can request a password reset on the Backblaze website, e.g.,&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/Volumes/Backblaze\ Installer/Backblaze\ Installer.app/Contents/MacOS/bzinstall_mate -nogui -createaccount jsmith@acme.com none 19347619 974g9q7gtq9tgq0gg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/lucascantor/a9aaeaa7414523c36711a5adc5d19d05&quot;&gt;Gist on GitHub&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://help.backblaze.com/hc/en-us/articles/115002549693-Backblaze-Mass-Silent-Install&quot;&gt;More Details from BackBlaze&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">You can install Backblaze silently from the command line by running the bzinstall_mate utility within the Backblaze Installer.app.</summary></entry><entry><title type="html">Re-Run the macOS Setup Assistant</title><link href="http://localhost:4000/2018/04/14/re-run-setup-assistant.html" rel="alternate" type="text/html" title="Re-Run the macOS Setup Assistant" /><published>2018-04-14T11:14:00-07:00</published><updated>2018-04-14T11:14:00-07:00</updated><id>http://localhost:4000/2018/04/14/re-run-setup-assistant</id><content type="html" xml:base="http://localhost:4000/2018/04/14/re-run-setup-assistant.html">&lt;p&gt;You can re-run the macOS Setup Assistant on the next boot by removing the &lt;code class=&quot;highlighter-rouge&quot;&gt;.AppleSetupDone&lt;/code&gt; file:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rm /var/db/.AppleSetupDone
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/lucascantor/b009c765d9ddc8439b60568228089a41&quot;&gt;Gist on GitHub&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">You can re-run the macOS Setup Assistant on the next boot by removing the .AppleSetupDone file:</summary></entry><entry><title type="html">Set the Login Window Text</title><link href="http://localhost:4000/2018/04/07/set-the-login-window-text.html" rel="alternate" type="text/html" title="Set the Login Window Text" /><published>2018-04-07T10:11:00-07:00</published><updated>2018-04-07T10:11:00-07:00</updated><id>http://localhost:4000/2018/04/07/set-the-login-window-text</id><content type="html" xml:base="http://localhost:4000/2018/04/07/set-the-login-window-text.html">&lt;p&gt;You can perform a &lt;code class=&quot;highlighter-rouge&quot;&gt;defaults write&lt;/code&gt; on the macOS loginwindow preferences to set the Login Window text from the command line:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;defaults write /Library/Preferences/com.apple.loginwindow LoginwindowText &quot;Property of John Doe - (555) 555-5555&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/lucascantor/322c7507a23b4f2a423c281519e30342&quot;&gt;Gist on GitHub&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">You can perform a defaults write on the macOS loginwindow preferences to set the Login Window text from the command line:</summary></entry><entry><title type="html">Start the Screensaver</title><link href="http://localhost:4000/2018/03/31/start-the-screensaver.html" rel="alternate" type="text/html" title="Start the Screensaver" /><published>2018-03-31T09:22:00-07:00</published><updated>2018-03-31T09:22:00-07:00</updated><id>http://localhost:4000/2018/03/31/start-the-screensaver</id><content type="html" xml:base="http://localhost:4000/2018/03/31/start-the-screensaver.html">&lt;p&gt;The screensaver engine on a Mac can be invoked from the command line. This can be useful for locking a Mac remotely if its security settings are configured to require a password after waking, but without needing to put the Mac fully to sleep:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;open -a /System/Library/Frameworks/ScreenSaver.framework/Versions/A/Resources/ScreenSaverEngine.app
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/lucascantor/98098174c5c0df6eea2f2d8625f5ebe9&quot;&gt;Gist on GitHub&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">The screensaver engine on a Mac can be invoked from the command line. This can be useful for locking a Mac remotely if its security settings are configured to require a password after waking, but without needing to put the Mac fully to sleep:</summary></entry><entry><title type="html">Sleep the Display</title><link href="http://localhost:4000/2018/03/24/sleep-the-display.html" rel="alternate" type="text/html" title="Sleep the Display" /><published>2018-03-24T08:55:00-07:00</published><updated>2018-03-24T08:55:00-07:00</updated><id>http://localhost:4000/2018/03/24/sleep-the-display</id><content type="html" xml:base="http://localhost:4000/2018/03/24/sleep-the-display.html">&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;pmset&lt;/code&gt; utility can be used to sleep the display of a Mac from the command line. This can be useful for locking a Mac remotely if its security settings are configured to require a password after waking, but without needing to put the Mac fully to sleep:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pmset displaysleepnow
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you do want to put the Mac to sleep, rather than just sleeping the display, just use &lt;code class=&quot;highlighter-rouge&quot;&gt;sleepnow&lt;/code&gt; instead:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pmset sleepnow
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/lucascantor/a8f827e9b32450a23f5d72e1aca16947&quot;&gt;Gist on GitHub&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">The pmset utility can be used to sleep the display of a Mac from the command line. This can be useful for locking a Mac remotely if its security settings are configured to require a password after waking, but without needing to put the Mac fully to sleep:</summary></entry><entry><title type="html">Create a Bootable macOS Installation Disk</title><link href="http://localhost:4000/2018/03/17/create-a-bootable-macos-installation-disk.html" rel="alternate" type="text/html" title="Create a Bootable macOS Installation Disk" /><published>2018-03-17T10:55:00-07:00</published><updated>2018-03-17T10:55:00-07:00</updated><id>http://localhost:4000/2018/03/17/create-a-bootable-macos-installation-disk</id><content type="html" xml:base="http://localhost:4000/2018/03/17/create-a-bootable-macos-installation-disk.html">&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;createinstallmedia&lt;/code&gt; utility can be used to create a bootable macOS installation disk, which is useful for installing macOS on multiple Macs without downloading the installer over the Internet each time:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/path/to/macOS/installer.app/Contents/Resources/createinstallmedia --volume /path/to/installation/media/volume --applicationpath /path/to/macOS/installer.app --nointeraction
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For example, to use an external drive named &lt;code class=&quot;highlighter-rouge&quot;&gt;myDrive&lt;/code&gt; to create an installation disk for &lt;code class=&quot;highlighter-rouge&quot;&gt;macOS High Sierra&lt;/code&gt; the following command can be used:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo /Applications/Install\ macOS\ High\ Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/myDrive --applicationpath /Applications/Install\ macOS\ High\ Sierra.app --nointeraction
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/lucascantor/709ceb0d31e84cd42c46400f7c7f0fb4&quot;&gt;Gist on GitHub&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">The createinstallmedia utility can be used to create a bootable macOS installation disk, which is useful for installing macOS on multiple Macs without downloading the installer over the Internet each time:</summary></entry></feed>